<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="style.css">
  <script src="script.js" defer></script>
  <title>CZN - Save Data Calculator</title>

</head>
<body>
    <div class="bg-animation">
        <div class="neural-network" id="neuralNetwork"></div>
        <div class="particles" id="particles"></div>
    </div>
        <header>
        <nav>
            <a href="#home" class="logo">
                <img src="./pictures/czn logo.jpeg" width=50px;></img>
                <h1>CZN Save Data Simulator</h1>
        </nav>
        </header>
<div class="content">     
  <div class="app">
    <div class="board">
      <div class="controls">
        <div class="meta" id="totalCostDisplay">Cost: 0 / 0</div>

        <label class="meta">Slots:</label>
        <input id="slotCount" type="number" min="1" max="48" value="15" />
        <label class="meta">Tier:</label>
        <input id="slotCount" type="number" min="1" max="15" value="8" />
        <button id="applySlots">Apply</button>
        <button id="reset">Reset</button>
        <button id="clear">Clear</button>
        <button id="save">Save</button>
        <button id="load">Load</button>

      </div>

      <div id="slots" class="slots-grid" aria-live="polite"></div>

      <div class="help">Drag cards from the selection (right) into slots. Right click or press the : button (hover mouse) to perform actions.</div>
      <div><br></div>
      <div style="font-weight:700">Logs</div>
      
      <div id="removedGrid"></div>
    </div>

    <aside class="selection">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div>
          <div style="font-weight:700">Cards</div>
          <div class="meta">Drag or click a category to place it in a slot.</div>
          <div class="meta">Converted cards can only be placed on top of another card.</div>
        </div>
      </div>

      <div class="list" id="palette">
        <!-- sample items -->
        <!-- Original cards -->
        <div class="item" draggable="true" data-type="A" data-source="palette">Character Card</div>
        <div class="item" draggable="true" data-type="B" data-source="palette">Neutral Card</div>
        <div class="item" draggable="true" data-type="C" data-source="palette">Monster Card</div>
        <div class="item" draggable="true" data-type="D" data-source="palette">Forbidden Card</div>

        <!-- Converted cards -->
        <div class="item" draggable="true" data-type="BConverted" data-status="converted" data-source="convertedPalette">Converted Neutral</div>
        <div class="item" draggable="true" data-type="RConverted" data-status="converted" data-source="convertedPalette">Conv. [Remove]</div>

      </div>

        <div>
          <div style="font-weight:700">Epiphanies</div>
          <div class="meta">Right click a slot to add an epiphany.</div>
        </div>

      <div class="list" id="modifiers">
        <div class="modifier" draggable="true" data-effect="Character Epiphany"><img src="./pictures/characterepiphany.png"></div>
        <div class="modifier" draggable="true" data-effect="Neutral Epiphany"><img src="./pictures/neutralepiphany.png"></div>
        <div class="modifier" draggable="true" data-effect="Divine Epiphany"><img src="./pictures/divineepiphany.png"></div>
      </div>

      <div>
          <div style="font-weight:700">Costs</div>
          <div class="meta"style="font-weight:700"><br>Adding Cards: </div>
          <div class="meta">Neutral Cards: 20</div>
          <div class="meta">Monster Cards: 80</div>
          <div class="meta">Forbidden Cards: 20</div>

          <div class="meta"style="font-weight:700"><br>Epiphanies: </div>
          <div class="meta">Character Card Epiphany: 0</div>
          <div class="meta">Neutral Card Epiphany: 10</div>
          <div class="meta">Divine Card Epiphany: 20</div>

          <div class="meta"style="font-weight:700"><br>Removals: </div>
          <div class="meta">Based on Frequency: 0, 10, 30, 50, 70</div>
          <div class="meta">Character Card: +20</div>
          <div class="meta">[Remove] Card: Free</div>

          <div class="meta"style="font-weight:700"><br>Copying: </div>
          <div class="meta">Based on Frequency: 0, 10, 30, 50, 70</div>
          <div class="meta">Copies Epiphanies</div>

          <div class="meta"style="font-weight:700"><br>Conversion: </div>
          <div class="meta">Cost: 10</div>

          <div class="meta"style="font-weight:700"><br>Additional Tips: </div>
          <div class="meta">Every action is logged. Converting a Card to Neutral and then Removing it will still cost 10 + 0 = 10.</div>
          <div class="meta">The cheapest way to remove a Character Card is to convert it to a [Remove] card, then removing it.</div>
        </div>
      <div class="side-actions">
        <button id="addCustom">Add custom item</button>
        <button id="toggleClone">Clone Mode: ON</button>
      </div>

      <div id="modifierMenu" style="position:absolute; display:none; background:#111827; border:1px solid #555; border-radius:8px; padding:6px; z-index:9999;"></div>

    </aside>
  </div>
  </div>

</body>
</html>
